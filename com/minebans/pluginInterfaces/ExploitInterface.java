package com.minebans.pluginInterfaces;

import com.minebans.MineBans;
import com.minebans.bans.BanReason;

public class ExploitInterface {
	
	private ExploitPluginInterface pluginInterface;
	
	public ExploitInterface(MineBans plugin){
		if (plugin.pluginManager.isPluginEnabled("NoCheat")){
			this.pluginInterface = new NoCheatPluginInterface(plugin);
		}else{
			plugin.log.fatal("A suitable exploit detection plugin was not found.");
		}
		
		if (this.foundExploitPlugin()){
			plugin.log.info("Using " + this.pluginInterface.getPluginName() + " for exploit data, checking config.");
			
			if (this.pluginInterface.checkConfig() == false){
				plugin.log.fatal(this.pluginInterface.getPluginName() + " minimum config was not met.");
			}
		}
	}
	
	public boolean foundExploitPlugin(){
		return (this.pluginInterface != null);
	}
	
	public long getMaxViolationLevel(String playerName, BanReason reason){
		return this.pluginInterface.getMaxViolationLevel(playerName, reason);
	}
	
}
